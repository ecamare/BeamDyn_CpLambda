; DTU 10 MW  
begin simulation;
  time_stop   30.00;
  solvertype   2 ;    (newmark)
  on_no_convergence continue ;
  convergence_limits 1.0E-4 1.0E-3 1E-8 ;
;  logfile ./logfiles/fdll.log ;
   log_deltat 1;
  ;animation ./sim_anim.dat;
  ;visualization ./sim_viz.hdf5;
;
  begin newmark;
    deltat    0.01; 
  end newmark;
end simulation;
;
;---------------------------------------------------------------------------------------------------------------------------------------------------------------- 
begin new_htc_structure;
;-------------------------------------------------------------------------------------------------------------------------------
  begin main_body;
    name dummy1;
    type timoschenko;
    gravity 0;
    nbodies 1;
    node_distribution c2_def;
    damping_posdef 0.0 0.0 0.0 1.53e-2 2.55e-2 3.3e-3 ;
    begin timoschenko_input;
      filename ../../_hawc2_common/stiff.st;
      set 1 1;
    end timoschenko_input;
    begin c2_def;
    nsec 2;
      sec 1 0.00E+00    0.00E+00    0.00E+00    0.00E+00;
      sec 2 0.00E+00    0.00E+00    0.10E+00    0.00E+00;
    end c2_def;
    end main_body;
;
  begin main_body;
    name        beam1;
    type        timoschenko ;
    nbodies     49 ;
    node_distribution    c2_def;
    damping_posdef   0.0 0.0 0.0 0.01 0.01 0.01 ; 
    gravity 50;
    begin timoschenko_input ;
      filename solid_beam_st.st;
      set 1 1 ;
    end timoschenko_input;
    begin c2_def;              Definition of centerline (main_body coordinates)
      nsec 50 ;
      sec    1	 0.000000e+00	 0.000000e+00	 0.000000e+00	 0.000000e+00;
      sec    2	 0.000000e+00	 0.000000e+00	 2.040820e-01	 0.000000e+00;
      sec    3	 0.000000e+00	 0.000000e+00	 4.081630e-01	 0.000000e+00;
      sec    4	 0.000000e+00	 0.000000e+00	 6.122450e-01	 0.000000e+00;
      sec    5	 0.000000e+00	 0.000000e+00	 8.163270e-01	 0.000000e+00;
      sec    6	 0.000000e+00	 0.000000e+00	 1.020410e+00	 0.000000e+00;
      sec    7	 0.000000e+00	 0.000000e+00	 1.224490e+00	 0.000000e+00;
      sec    8	 0.000000e+00	 0.000000e+00	 1.428570e+00	 0.000000e+00;
      sec    9	 0.000000e+00	 0.000000e+00	 1.632650e+00	 0.000000e+00;
      sec   10	 0.000000e+00	 0.000000e+00	 1.836730e+00	 0.000000e+00;
      sec   11	 0.000000e+00	 0.000000e+00	 2.040820e+00	 0.000000e+00;
      sec   12	 0.000000e+00	 0.000000e+00	 2.244900e+00	 0.000000e+00;
      sec   13	 0.000000e+00	 0.000000e+00	 2.448980e+00	 0.000000e+00;
      sec   14	 0.000000e+00	 0.000000e+00	 2.653060e+00	 0.000000e+00;
      sec   15	 0.000000e+00	 0.000000e+00	 2.857140e+00	 0.000000e+00;
      sec   16	 0.000000e+00	 0.000000e+00	 3.061220e+00	 0.000000e+00;
      sec   17	 0.000000e+00	 0.000000e+00	 3.265310e+00	 0.000000e+00;
      sec   18	 0.000000e+00	 0.000000e+00	 3.469390e+00	 0.000000e+00;
      sec   19	 0.000000e+00	 0.000000e+00	 3.673470e+00	 0.000000e+00;
      sec   20	 0.000000e+00	 0.000000e+00	 3.877550e+00	 0.000000e+00;
      sec   21	 0.000000e+00	 0.000000e+00	 4.081630e+00	 0.000000e+00;
      sec   22	 0.000000e+00	 0.000000e+00	 4.285710e+00	 0.000000e+00;
      sec   23	 0.000000e+00	 0.000000e+00	 4.489800e+00	 0.000000e+00;
      sec   24	 0.000000e+00	 0.000000e+00	 4.693880e+00	 0.000000e+00;
      sec   25	 0.000000e+00	 0.000000e+00	 4.897960e+00	 0.000000e+00;
      sec   26	 0.000000e+00	 0.000000e+00	 5.102040e+00	 0.000000e+00;
      sec   27	 0.000000e+00	 0.000000e+00	 5.306120e+00	 0.000000e+00;
      sec   28	 0.000000e+00	 0.000000e+00	 5.510200e+00	 0.000000e+00;
      sec   29	 0.000000e+00	 0.000000e+00	 5.714290e+00	 0.000000e+00;
      sec   30	 0.000000e+00	 0.000000e+00	 5.918370e+00	 0.000000e+00;
      sec   31	 0.000000e+00	 0.000000e+00	 6.122450e+00	 0.000000e+00;
      sec   32	 0.000000e+00	 0.000000e+00	 6.326530e+00	 0.000000e+00;
      sec   33	 0.000000e+00	 0.000000e+00	 6.530610e+00	 0.000000e+00;
      sec   34	 0.000000e+00	 0.000000e+00	 6.734690e+00	 0.000000e+00;
      sec   35	 0.000000e+00	 0.000000e+00	 6.938780e+00	 0.000000e+00;
      sec   36	 0.000000e+00	 0.000000e+00	 7.142860e+00	 0.000000e+00;
      sec   37	 0.000000e+00	 0.000000e+00	 7.346940e+00	 0.000000e+00;
      sec   38	 0.000000e+00	 0.000000e+00	 7.551020e+00	 0.000000e+00;
      sec   39	 0.000000e+00	 0.000000e+00	 7.755100e+00	 0.000000e+00;
      sec   40	 0.000000e+00	 0.000000e+00	 7.959180e+00	 0.000000e+00;
      sec   41	 0.000000e+00	 0.000000e+00	 8.163270e+00	 0.000000e+00;
      sec   42	 0.000000e+00	 0.000000e+00	 8.367350e+00	 0.000000e+00;
      sec   43	 0.000000e+00	 0.000000e+00	 8.571430e+00	 0.000000e+00;
      sec   44	 0.000000e+00	 0.000000e+00	 8.775510e+00	 0.000000e+00;
      sec   45	 0.000000e+00	 0.000000e+00	 8.979590e+00	 0.000000e+00;
      sec   46	 0.000000e+00	 0.000000e+00	 9.183670e+00	 0.000000e+00;
      sec   47	 0.000000e+00	 0.000000e+00	 9.387760e+00	 0.000000e+00;
      sec   48	 0.000000e+00	 0.000000e+00	 9.591840e+00	 0.000000e+00;
      sec   49	 0.000000e+00	 0.000000e+00	 9.795920e+00	 0.000000e+00;
      sec   50	 0.000000e+00	 0.000000e+00	 1.000000e+01	 0.000000e+00;
    end c2_def ;                                 
   end main_body;
;-------------------------------------------------------------------------------------------------------------------------------                   
;
;
begin orientation;
    begin base;
      mbdy   dummy1;
      inipos        0.0 0.0 -0.1;
      body_eulerang 0.0 180.0 0.0;
    end base;
;
    begin relative;
      body1	dummy1 last;
      body2	beam1 1;
      body2_eulerang	0 0 0;
    end relative;    
end orientation;
;-------------------------------------------------------------------------------------------------------------------------------
begin constraint;   
    begin fix0;
      mbdy dummy1;
    end fix0;
;
    begin bearing3;
      name bearing_3;
      mbdy1 dummy1 last;
      mbdy2 beam1 1;
      bearing_vector 2 0.0 1.0 0.0; coordinate system (0 or 1 or 2), rotation vector (x,y,z)
      omegas 0.5; rad/s
    end bearing3;
end constraint;
end new_htc_structure;
;----------------------------------------------------------------------------------------------------------------------------------------------------------------
;
;---------------------------------------------------------------------------------------------------------------------------------------------------------------- 
;
begin output;
  filename ./sim ;
  deltat 0.01;
  ;buffer 1;
  ;data_format hawc_ascii;
  ;time 0 50;
  general time;
 mbdy state pos beam1  49   1.0 beam1 ;
 mbdy state_rot 'axisangle' beam1  49   1.0 beam1 ;  
end output;
;-------------------------------------------------------------------------------------------------------------------------------
exit;
